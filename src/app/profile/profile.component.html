<app-header></app-header>
<section id="viewprofile">


   <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
   <link href="./profile.component.css" rel="stylesheet">
   <div class="container">
      <div class="row d-content-center">
         <div class="col">
            <div class="row p-3 py-4">

               <div class="upper">

                  <img src="assets/img/comp.jpg" class="img-fluid">

                  <div class="text-left ">
                     <nav id="navbar" class="navbar">
                        <ul>
                           <li><a class="btn" href="profile">posts</a></li>
                           <li><a class="btn" href="edit">abouts</a></li>

                        </ul>
                     </nav>
                  </div>
               </div>

               <div class="user text-center">
                  <div class="text-center "> <img src="assets/img/blank_profile.png" width="200" class="rounded-circle">
                  </div>


               </div>
               <div class="text-center mt-3"> 
                  <h5 class="mt-2 mb-0">{{user.username}}</h5> <span>Full stack developer</span>
                  
                  </div>

               <div class="row justify-content-between">
                  <div class="col-4">
                  </div>
                  <div class="col-4">

                     <a href="addpost" class="btn">Add Post</a>
                  </div>
               </div>




               <div class="row ">


                  <!-- begin profile-content -->
                  <div class="profile-content">
                     <!-- begin tab-content -->
                     <div class="tab-content p-0">
                        <!-- begin #profile-post tab -->
                        <div class="tab-pane fade active show" id="profile-post" *ngFor="let pub of sortData">
                           <div *ngIf="pub.user.username == user.username">
                              <ul class="timeline">
                                 <li>
                                    <!-- begin timeline-time -->
                                    <div class="timeline-time">
                                       <span class="date">{{pub.date | date: 'dd/MM/yyyy' }}</span>

                                    </div>
                                    <!-- end timeline-time -->
                                    <!-- begin timeline-icon -->
                                    <div class="timeline-icon">
                                       <a href="javascript:;">&nbsp;</a>
                                    </div>
                                    <!-- end timeline-icon -->
                                    <!-- begin timeline-body -->
                                    <div class="timeline-body">
                                       <div class="timeline-header">
                                          <span class="userimage"><img src="assets/img/blank_profile.png" alt=""></span>
                                          <span class="username">{{user.username}}
                                             <small></small></span>
                                          <span> </span>
                                       </div>
                                       <div class="timeline-content">
                                          
                                             <div [innerHTML]="pub.pub"></div>

                                          
                                          <p></p>
                                       </div>
                                       <div class="timeline-likes">
                                          <div class="stats-right">

                                             <span><button type="button" class="btn" (click)="editClick(pub)"
                                                   data-toggle="modal" data-target="#edit" data-backdrop="static"
                                                   data-keyboard="true">
                                                   <i class="bi bi-pencil-square"></i>
                                                </button>



                                                <!-------modal---------->
                                                <div class="modal fade" id="edit" tabindex="-1" role="dialog"
                                                   aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                   <div class="modal-dialog modal-dialog-centered modal-xl"
                                                      role="document">
                                                      <div class="modal-content">
                                                         <div class="modal-header">
                                                            <h5 class="modal-title" id="exampleModalLabel"></h5>
                                                            <button type="button" class="close" data-dismiss="modal"
                                                               aria-label="Close" (click)="closeClick()">
                                                               <span aria-hidden="true">&times;</span>
                                                            </button>
                                                         </div>
                                                         <div class="modal-body">

                                                            <app-add-edit-pub [Post]="post" [ng]="'salut'"
                                                               *ngIf="ActivateAddEditPostComp">

                                                            </app-add-edit-pub>
                                                         </div>
                                                      </div>
                                                   </div>
                                                </div>



                                             </span>
                                             <button type="button" class="btn" (click)="deleteClick(pub)">
                                                <svg width="1em" height="1em" viewBox="0 0 16 16"
                                                   class="bi bi-trash-fill" fill="currentColor"
                                                   xmlns="http://www.w3.org/2000/svg">
                                                   <path fill-rule="evenodd"
                                                      d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z" />
                                                </svg>
                                             </button>
                                          </div>
                                          <div class="stats">
                                             <span class="fa-stack fa-fw stats-icon">
                                                <i class="fa fa-circle fa-stack-2x text-danger"></i>
                                                <i class="fa fa-heart fa-stack-1x fa-inverse t-plus-1"></i>
                                             </span>
                                             <span class="fa-stack fa-fw stats-icon">
                                                <i class="fa fa-circle fa-stack-2x text-primary"></i>
                                                <i class="fa fa-thumbs-up fa-stack-1x fa-inverse"></i>
                                             </span>
                                             <span class="stats-total">4.3k</span>
                                          </div>
                                       </div>
                                       <div class="timeline-footer">

                                          <a href="javascript:;" class="m-r-15 text-inverse-lighter"
                                             (click)="showAnsClick(pub.pubId)"><i
                                                class="fa fa-comments fa-fw fa-lg m-r-3"></i> Answers </a>

                                       </div>

                                       <div class="timeline-comment-box" *ngIf="val == pub.pubId">
                                          <div class="card shadow border-0 mb-2">
                                             <div class="user"><img src="assets/img/blank_profile.png"></div>



                                             <div *ngFor="let ans of ansList">


                                                <div *ngIf="ans.pub_id.pubId == pub.pubId">





                                                   <div class="container">

                                                      <div class="card-header"
                                                         style="border-bottom: 1px solid #e2e7eb;">

                                                         <div class="row">
                                                            <div class="col-1">
                                                               <img class="mr-3" width="40" height="40"
                                                                  src="assets/img/blank_profile.png"
                                                                  class="avatar avatar-sm rounded-circle me-2"
                                                                  alt="Generic placeholder image">
                                                            </div>
                                                            <div class="col">
                                                               <span class="text-bold"> {{ans.user.username}} </span>

                                                            </div>
                                                            <div class="col-6">        </div>
                                                            <div class="col">{{ans.date | date: 'HH:mm , le dd/MM/yyyy' }}</div>

                                                         </div>
                                                      </div>







                                                      <div class="card-body">
                                                         <div class="row">
                                                            <div class="col">

                                                               <div [innerHTML]="ans.Ans"></div> 

                                                            </div>

                                                            
                                                         </div>

                                                      </div>
                                                      <div class="card-footer"></div>
                                                   </div>
                                                </div>















                                             </div>



                                          </div>
                                       </div>
                                    </div>
                                    
                                    <!-- end timeline-body -->
                                 </li>

                              </ul>
                              <!-- end timeline -->
                           </div>
                        </div>
                        <!-- end #profile-post tab -->
                     </div>
                     <!-- end tab-content -->
                  </div>
                  <!-- end profile-content -->
               </div>
            </div>
         </div>
      </div>
   </div>


</section>